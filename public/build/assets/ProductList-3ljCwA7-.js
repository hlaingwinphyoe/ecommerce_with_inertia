import{Q as L,l,j as u,o as s,b as o,a as i,w as n,e,F as _,m as C,f as g,p as V,v as D,c as F,u as T,t as k,O as j,E as z,q as ae,s as N}from"./app-9bdSW4XQ.js";const le={class:"mt-2"},se={class:"grid grid-cols-3 gap-4"},oe=e("label",{for:"title",class:"label"},"Title",-1),de=e("label",{for:"price",class:"label"},"Price",-1),ie=e("label",{for:"qty",class:"label"},"Quantity",-1),ne={class:"col-span-full grid grid-cols-2 gap-4"},ce=e("label",{class:"label"},"Category",-1),ue=e("label",{class:"label"},"Brand",-1),ge={class:"col-span-full"},pe=e("label",{for:"Description",class:"label"},"Description",-1),ye={class:"col-span-full"},me=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),xe={class:"flex gap-4"},he=["src"],be=["onClick"],fe=e("span",{class:"text-white text-xs font-bold absolute -top-1/2 left-1/2 transform -translate-x-1/2 translate-y-1/2"},"x",-1),ve=[fe],ke={class:"dialog-footer"},we={class:"mx-auto max-w-screen-xl px-4 lg:px-12"},_e={class:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden"},Ce=e("div",{class:"w-full md:w-1/2"},[e("form",{class:"flex items-center"},[e("label",{for:"simple-search",class:"sr-only"},"Search"),e("div",{class:"relative w-full"},[e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])]),e("input",{type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search",required:""})])])],-1),Ve=e("div",{class:"flex items-center space-x-3 w-full md:w-auto"},[e("button",{id:"actionsDropdownButton","data-dropdown-toggle":"actionsDropdown",class:"w-full md:w-auto flex items-center justify-center py-2 px-4 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",type:"button"},[e("svg",{class:"-ml-1 mr-1.5 w-5 h-5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[e("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})]),g(" Actions ")]),e("div",{id:"actionsDropdown",class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600"},[e("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"actionsDropdownButton"},[e("li",null,[e("a",{href:"#",class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},"Mass Edit")])]),e("div",{class:"py-1"},[e("a",{href:"#",class:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},"Delete all")])]),e("button",{id:"filterDropdownButton","data-dropdown-toggle":"filterDropdown",class:"w-full md:w-auto flex items-center justify-center py-2 px-4 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",type:"button"},[e("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",class:"h-4 w-4 mr-2 text-gray-400",viewbox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})]),g(" Filter "),e("svg",{class:"-mr-1 ml-1.5 w-5 h-5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[e("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})])]),e("div",{id:"filterDropdown",class:"z-10 hidden w-48 p-3 bg-white rounded-lg shadow dark:bg-gray-700"},[e("h6",{class:"mb-3 text-sm font-medium text-gray-900 dark:text-white"}," Choose brand "),e("ul",{class:"space-y-2 text-sm","aria-labelledby":"filterDropdownButton"},[e("li",{class:"flex items-center"},[e("input",{id:"apple",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),e("label",{for:"apple",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Apple (56)")]),e("li",{class:"flex items-center"},[e("input",{id:"fitbit",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),e("label",{for:"fitbit",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Microsoft (16)")]),e("li",{class:"flex items-center"},[e("input",{id:"razor",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),e("label",{for:"razor",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Razor (49)")]),e("li",{class:"flex items-center"},[e("input",{id:"nikon",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),e("label",{for:"nikon",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Nikon (12)")]),e("li",{class:"flex items-center"},[e("input",{id:"benq",type:"checkbox",value:"",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"}),e("label",{for:"benq",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"BenQ (74)")])])])],-1),De={class:"overflow-x-auto"},je={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Se=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3"}," Product name "),e("th",{scope:"col",class:"px-4 py-3"},"Category"),e("th",{scope:"col",class:"px-4 py-3"},"Brand"),e("th",{scope:"col",class:"px-4 py-3"},"Qty"),e("th",{scope:"col",class:"px-4 py-3"},"Price"),e("th",{scope:"col",class:"px-4 py-3"},"Stock"),e("th",{scope:"col",class:"px-4 py-3"},"Publish"),e("th",{scope:"col",class:"px-4 py-3"},"Actions")])],-1),ze={scope:"row",class:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Be={class:"px-4 py-3"},Me={class:"px-4 py-3"},qe={class:"px-4 py-3"},Ue={class:"px-4 py-3"},Pe={class:"px-4 py-3"},Ae={key:0,class:"bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},Ee={key:1,class:"bg-red-100 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300"},Le={class:"px-4 py-3"},Fe={class:"px-4 py-3"},Te=["onClick"],Ne=["onClick"],$e=e("nav",{class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},[e("span",{class:"text-sm font-normal text-gray-500 dark:text-gray-400"},[g(" Showing "),e("span",{class:"font-semibold text-gray-900 dark:text-white"},"1-10"),g(" of "),e("span",{class:"font-semibold text-gray-900 dark:text-white"},"1000")]),e("ul",{class:"inline-flex items-stretch -space-x-px"},[e("li",null,[e("a",{href:"#",class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[e("span",{class:"sr-only"},"Previous"),e("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])])]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center text-sm py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"1")]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center text-sm py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"2")]),e("li",null,[e("a",{href:"#","aria-current":"page",class:"flex items-center justify-center text-sm z-10 py-2 px-3 leading-tight text-primary-600 bg-primary-50 border border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"},"3")]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center text-sm py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"...")]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center text-sm py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"100")]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[e("span",{class:"sr-only"},"Next"),e("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])])])])],-1),Qe={__name:"ProductList",props:{products:Object},setup($){const I=L().props.brands,O=L().props.categories,B=l(!1),d=l(!1),w=l(!1),S=l(""),p=l(""),y=l(""),m=l(""),x=l(""),h=l(""),b=l(""),Q=l([]),M=l(""),q=l(""),f=l([]),R=l(""),U=l([]),W=a=>{f.value.push(a)},G=a=>{console.log(a)},H=()=>{B.value=!0,d.value=!0,w.value=!1},J=a=>{B.value=!1,d.value=!0,w.value=!0,S.value=a.id,p.value=a.title,y.value=a.price,m.value=a.description,b.value=a.quantity,U.value=a.product_images,h.value=a.brand_id,x.value=a.category_id},P=()=>{S.value="",p.value="",y.value="",m.value="",x.value="",h.value="",b.value="",Q.value=[],M.value="",q.value="",R.value=""},K=()=>{},X=async()=>{const a=new FormData;a.append("title",p.value),a.append("price",y.value),a.append("description",m.value),a.append("quantity",b.value),a.append("category",x.value),a.append("brand",h.value),a.append("inStock",M.value),a.append("published",q.value);for(const r of f.value)a.append("images[]",r.raw);if(w.value===!1)try{await j.post("/admin/products",a,{onSuccess:r=>{d.value=!1,P(),z({title:"Success",message:r.props.flash.success,type:"success"})}})}catch(r){console.log(r)}else{a.append("_method","PUT");try{await j.post(`/admin/products/${S.value}/update`,a,{onSuccess:r=>{d.value=!1,P(),z({title:"Success",message:r.props.flash.success,type:"success"})}})}catch(r){console.log(r)}}},Y=async(a,r)=>{try{await j.delete("/admin/products/images/"+a.id,{onSuccess:c=>{f.value.splice(r,1),z({title:"Success",message:c.props.flash.success,type:"success"})}})}catch(c){console.log(c)}},Z=a=>{ae.confirm("proxy will permanently delete the product. Continue?","Warning",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then(()=>{j.delete("/admin/products/destroy/"+a.id,{onSuccess:r=>{N({type:"success",message:"Delete completed"})}})}).catch(()=>{N({type:"info",message:"Cancel"})})};return(a,r)=>{const c=u("el-option"),A=u("el-select"),ee=u("el-upload"),E=u("el-button"),te=u("el-dialog"),re=u("el-switch");return s(),o("section",le,[i(te,{modelValue:d.value,"onUpdate:modelValue":r[8]||(r[8]=t=>d.value=t),title:w.value?"Edit Product":"Add Product",width:"50%","before-close":K},{footer:n(()=>[e("span",ke,[i(E,{onClick:r[7]||(r[7]=t=>d.value=!1)},{default:n(()=>[g("Cancel")]),_:1}),i(E,{type:"primary",onClick:X},{default:n(()=>[g(" Confirm ")]),_:1})])]),default:n(()=>[e("div",se,[e("div",null,[oe,V(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>p.value=t),id:"title",class:"form-control",required:""},null,512),[[D,p.value]])]),e("div",null,[de,V(e("input",{type:"number","onUpdate:modelValue":r[1]||(r[1]=t=>y.value=t),id:"price",class:"form-control",required:""},null,512),[[D,y.value]])]),e("div",null,[ie,V(e("input",{type:"number","onUpdate:modelValue":r[2]||(r[2]=t=>b.value=t),id:"qty",class:"form-control",required:""},null,512),[[D,b.value]])]),e("div",ne,[e("div",null,[ce,i(A,{modelValue:x.value,"onUpdate:modelValue":r[3]||(r[3]=t=>x.value=t),placeholder:"Select Category",clearable:"",size:"large"},{default:n(()=>[(s(!0),o(_,null,C(T(O),t=>(s(),F(c,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",null,[ue,i(A,{modelValue:h.value,"onUpdate:modelValue":r[4]||(r[4]=t=>h.value=t),placeholder:"Select Brand",clearable:"",size:"large"},{default:n(()=>[(s(!0),o(_,null,C(T(I),t=>(s(),F(c,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),e("div",ge,[pe,V(e("textarea",{"onUpdate:modelValue":r[5]||(r[5]=t=>m.value=t),id:"Description",class:"form-control"},null,512),[[D,m.value]])]),e("div",ye,[i(ee,{"file-list":f.value,"onUpdate:fileList":r[6]||(r[6]=t=>f.value=t),multiple:"","list-type":"picture-card","on-remove":G,"on-change":W},{default:n(()=>[me]),_:1},8,["file-list"])])]),e("div",xe,[(s(!0),o(_,null,C(U.value,(t,v)=>(s(),o("div",{key:t.id,class:"h-32 mt-3 relative"},[e("img",{class:"w-32 h-32 object-cover rounded",src:`/${t.image}`,alt:""},null,8,he),e("span",{onClick:Ie=>Y(t,v),class:"absolute top-0.5 -right-2 cursor-pointer transform -translate-y-1/2 w-5 h-5 bg-red-400 border-2 border-white dark:border-gray-800 rounded-full"},ve,8,be)]))),128))])]),_:1},8,["modelValue","title"]),e("div",we,[e("div",_e,[e("div",{class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},[Ce,e("div",{class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"},[e("button",{onClick:H,type:"button",class:"flex items-center justify-center text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Add product "),Ve])]),e("div",De,[e("table",je,[Se,e("tbody",null,[(s(!0),o(_,null,C($.products.data,t=>(s(),o("tr",{key:t.id,class:"border-b dark:border-gray-700"},[e("th",ze,k(t.title),1),e("td",Be,k(t.category.name),1),e("td",Me,k(t.brand.name),1),e("td",qe,k(t.quantity),1),e("td",Ue,k(t.price),1),e("td",Pe,[t.inStock===0?(s(),o("span",Ae," In Stock ")):(s(),o("span",Ee," Out of Sotck "))]),e("td",Le,[i(re,{modelValue:t.published,"onUpdate:modelValue":v=>t.published=v,"active-value":0,"inactive-value":1},null,8,["modelValue","onUpdate:modelValue"])]),e("td",Fe,[e("a",{href:"javascript:void(0)",class:"hover:underline text-yellow-600 mr-2",onClick:v=>J(t)}," Edit ",8,Te),e("a",{href:"javascript:void(0)",class:"hover:underline text-red-600",onClick:v=>Z(t)}," Delete ",8,Ne)])]))),128))])])]),$e])])])}}};export{Qe as default};
